{%- comment -%}
  Top Tags panel (plugin-powered).
  Parameters:
    limit (optional): number of tags to display (default 10)
  Expects site.top_tags (array of hashes { 'name','count' } sorted desc) set by _plugins/top_tags.rb.
  Graceful no-op if data missing.
{%- endcomment -%}
{%- assign limit = include.limit | default: 10 -%}
{%- assign tags = site.top_tags | default: site.config.top_tags -%}
{%- if tags and tags.size > 0 -%}
  <div class="top-tags">
    <h5 class="mb-2">Top Tags</h5>
    <ul class="list-unstyled m-0 p-0 d-flex flex-wrap align-items-center">
      {%- for t in tags limit: limit -%}
        {%- assign tag = t.name | default: t.name -%}
        {%- if tag and tag != '' -%}
          <li class="me-2 d-flex align-items-center">
            <i class="fa-solid fa-hashtag fa-sm"></i>&nbsp;<a href="{{ tag | slugify | prepend: '/articles/tag/' | relative_url }}">{{ tag }}</a>
            {%- unless forloop.last or forloop.index == limit -%}
              <span class="mx-2 text-muted">&bull;</span>
            {%- endunless -%}
          </li>
        {%- endif -%}
      {%- endfor -%}
    </ul>
  </div>
{%- endif -%}
